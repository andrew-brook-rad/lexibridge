# LexiBridge Public - Multilingual Interlinear Bible Reader
# Progress Tracking File

## PROJECT OVERVIEW
Building a public-facing website to read interlinear Bible texts in multiple languages.
Branch: public-main

**Technology Stack:**
- Next.js 14+ with App Router (TypeScript)
- Tailwind CSS + shadcn/ui components
- Pre-generated TSV files as data source

**Core Features:**
- Multi-language glosses (English, Spanish, French, Portuguese)
- Source text: German (Luther Bible 1912)
- Beautiful typography with configurable font size and font family
- Page-by-page navigation (next/previous chapter)
- Quick navigation to any book, chapter, and verse (Cmd+K search)
- Responsive design for desktop and mobile
- Clean, distraction-free reading experience

**Data Source:** Pre-generated TSV files from tools/interlinear/output/[lang]/
- Each gloss language has its own folder (english/, spanish/, french/, etc.)
- TSV format: book_code TAB chapter:verse TAB German|GLOSS German|GLOSS ...

**Routes:** /read/[lang]/[book]/[chapter]/[verse]
- Example: /read/english/gen/1 - Genesis 1 with English glosses
- Example: /read/spanish/jhn/3/16 - John 3:16 with Spanish glosses

## CURRENT STATUS
0/35 features implemented
Starting fresh on public-main branch

## FEATURE CATEGORIES
- Setup: 1 feature (Next.js + shadcn/ui initialization)
- Navigation: 9 features (gloss language selector, book selector, chapter selector, Cmd+K search, prev/next, etc.)
- Reading: 8 features (TSV parsing, interlinear display, verse numbers, chapter headers, etc.)
- Preferences: 5 features (font size slider, font family select, localStorage, settings dialog)
- Responsive: 4 features (desktop, tablet, mobile layouts with shadcn Sheet)
- Data: 3 features (TSV loading by gloss language, book metadata, verse formatting)
- UI: 4 features (header, footer nav, shadcn theming, accessibility)

## SESSION LOG

---
### SESSION 1 - PROJECT INITIALIZATION
Date: 2024-12-20

Project initialized for LexiBridge Public website.

Files configured:
- app_spec.txt: New spec for public-facing interlinear Bible reader
- feature_list.json: 34 features across 6 categories
- claude-progress.txt: This progress tracking file

Key decisions:
- Branch: public-main (separate from print-focused main branch)
- Technology: Next.js 14+ with App Router, Tailwind CSS
- Data: Read from existing TSV files (no AI generation needed)
- Simplicity: Static site, no auth, minimal dependencies

Next steps:
- Set up Next.js project on public-main branch
- Create basic page structure and routing
- Implement TSV data loading utility
- Build core reading view components

---
### SESSION 2 - INTERLINEAR TRANSLATION CORRECTIONS
Date: 2024-12-20

Focused on correcting German-to-English interlinear Bible translations for Genesis.

**Corrections Made to gen.tsv:**

1. **Genesis 25:13** - Fixed bracketed hyphen: `-|[-]` → `-|—`
   - Also fixed `Kinder|old` → `Kinder|children` and `Sohn|firstborn` → `Sohn|son`

2. **Genesis 1:16** - Fixed multiple issues:
   - `dazu|also auch|also` → `dazu|ALSO auch|—` (removed duplicate)
   - `das|the` → `das|WHICH` (relative pronoun)
   - `Tag|time` → `Tag|DAY` (correct meaning)
   - `machte|make` → `machte|made` (past tense)
   - `Lichter|light` → `Lichter|lights` (plural)

3. **Genesis 16:9** - Fixed separable verb and duplicate:
   - `Kehre|return wieder|return` → `Kehre|return wieder|AGAIN`
   - `um|for` → `um|—` (part of compound verb)
   - Fixed pronouns: `ihr|you` → `ihr|her`, `ihre|their` → `ihre|her`

4. **Genesis 16:10** - Fixed duplicate:
   - `also|multiply mehren|multiply` → `also|GREATLY mehren|multiply`
   - `werden|scribe` → `werden|be`

5. **Genesis 9:11** - Fixed duplicate and improved:
   - `die|the die|the` → `die|WHICH die|the` (relative pronoun)
   - `richte|arise...auf|arise` → `richte|establish...auf|—` (separable verb)
   - `verderbt|corrupt` → `verderbt|cut-off`

6. **Genesis 11:5** - Fixed duplicate:
   - `fuhr|descend...hernieder|descend` → `fuhr|came-down...hernieder|—` (separable verb)
   - `die|the die|the` → `die|WHICH die|the` (relative pronoun)
   - `Menschenkinder|old` → `Menschenkinder|children-of-men`

7. **Genesis 14:16** - Fixed duplicates:
   - `brachte|return...wieder|return` → `brachte|brought...wieder|BACK`
   - `dazu|also auch|also` → `dazu|ALSO auch|—`

8. **Genesis 14:23** - Fixed duplicate:
   - `reich|rich gemacht|rich` → `reich|rich gemacht|MADE`

**Key Observations:**
- Many death idiom issues (des Todes sterben = "die die") were already fixed in previous sessions
- All bracketed unknown words `[word]` appear to be corrected
- There remain ~126 lines with potential duplicates need review
- Common pattern: `Kinder|old`, `Söhne|old`, `Sohn|old` should be children/sons/son

**Status:**
- Genesis has been partially corrected (critical issues fixed)
- Remaining: ~126 lines with potential duplicates need review
- Next session should continue with Genesis duplicates or move to Exodus

---
### SESSION 3 - GENESIS COMPREHENSIVE CLEANUP
Date: 2024-12-20

Completed comprehensive cleanup of all remaining issues in Genesis (gen.tsv).

**Batch Corrections Applied:**

1. **|old pattern fixes (German words incorrectly glossed as "old"):**
   - `Söhne|old` → `Söhne|sons` (56 occurrences)
   - `Sohn|old` → `Sohn|son` (109 occurrences)
   - `Kinder|old` → `Kinder|children` (87 occurrences)
   - `Söhnen|old` → `Söhnen|sons` (dative plural)
   - `Sohnes|old` → `Sohnes|son's` (genitive)
   - `Kindern|old` → `Kindern|children` (dative plural)
   - `Sohne|old` → `Sohne|son` (dative singular)
   - `Bruderssohn|old` → `Bruderssohn|brother's-son`
   - `Fremden|old` → `Fremden|strangers`
   - `Knäblein|old` → `Knäblein|male-child`
   - `Kalb|old` → `Kalb|calf`, `Kalbe|old` → `Kalbe|calf`
   - `Füllen|old` → `Füllen|foals`
   - `Kindeskinder|old` → `Kindeskinder|grandchildren`
   - `Kindessöhne|old` → `Kindessöhne|grandsons`
   - `Kindestöchter|old` → `Kindestöchter|granddaughters`
   - `Baum|old` → `Baum|tree`
   - `Abrahams|old` → `Abrahams|Abraham's`
   - `einer|old` → `einer|one`
   - `und|old` → `und|and`
   - `hatte|old` → `hatte|had`
   - `geboren|old age` → `geboren|born-in-old-age`

2. **Death-related |die pattern fixes:**
   - `starb|die` → `starb|DIED`
   - `tötest|die` → `tötest|SLAY`
   - `tötete|die` → `tötete|SLEW`
   - `tot|die` → `tot|DEAD`
   - `gestorben|die` → `gestorben|DIED`
   - `stirbt|die` → `stirbt|DIES`
   - `verschied|die` → `verschied|DIED`
   - `Leiche|die` → `Leiche|CORPSE`
   - `Todes|die` → `Todes|DEATH`
   - `erwürge|die` → `erwürge|SLAY`
   - `Toten|die` → `Toten|DEAD`
   - `sterben|die` → `sterben|DIE`
   - `sterbe|die` → `sterbe|DIE`

3. **Specific verse fixes for death idioms and complex patterns:**
   - 7:21: `ging|die...unter|die` → `ging|perished...unter|—`
   - 25:8: `nahm|took ab|die...starb|die` → `nahm|gave ab|UP...starb|DIED`
   - 25:17: Same death idiom pattern
   - 30:1: `sterbe|die ich|die` → `sterbe|DIE ich|I`
   - 35:18: `sterben|die mußte|die` → `sterben|DIE mußte|HAD-TO`
   - 35:29: Same as 25:8
   - 42:20: `sterben|die müßt|die` → `sterben|DIE müßt|MUST`
   - 47:29: `sterben|die sollte|die` → `sterben|DIE sollte|SHOULD`
   - 48:7: `mir|die Rahel` → `mir|TO-ME Rahel`
   - 50:15: `gestorben|died war|die` → `gestorben|died war|WAS`

**Statistics:**
- Total corrections: ~300+ individual word glosses
- All `|old` patterns fixed (was incorrectly translating German word roots)
- All `|die` death-related patterns fixed
- All death idiom patterns ("des Todes sterben") properly glossed

**Consolidation:**
- Ran `node scripts/consolidate-interlinear.js`
- Output: 695 verses, 24 chapters written to data/genesis_interlinear.json

**Status:**
- Genesis (gen.tsv) is now COMPLETE
- All known issue patterns have been corrected
- Ready to proceed to next book (Exodus) in future session

---
### SESSION 4 - EXODUS COMPREHENSIVE CLEANUP
Date: 2024-12-20

Completed comprehensive cleanup of all remaining issues in Exodus (exo.tsv).

**Batch Corrections Applied:**

1. **|old pattern fixes (German words incorrectly glossed as "old"):**
   - `Kinder|old` → `Kinder|children` (97 occurrences)
   - `Kindern|old` → `Kindern|children` (dative plural)
   - `Sohn|old` → `Sohn|son`
   - `Söhne|old` → `Söhne|sons`
   - `Söhnen|old` → `Söhnen|sons` (dative plural)

2. **Death idiom pattern fixes:**
   - `Todes|die` → `Todes|DEATH` (9 occurrences)
   - `soll|die des|of-the Todes|DEATH sterben|die` → `soll|SHALL des|OF-THE Todes|DEATH sterben|DIE`

3. **Death-related |die pattern fixes:**
   - `starb|die` → `starb|DIED`
   - `starben|die` → `starben|DIED`
   - `tot|die` → `tot|DEAD`
   - `war|die` → `war|WAS`
   - `tötet|die` → `tötet|KILL`
   - `töten|die` → `töten|KILL`
   - `töte|die` → `töte|KILL`
   - `sterben|die` → `sterben|DIE`
   - `sterbe|die` → `sterbe|DIE`
   - `stirbt|die` → `stirbt|DIES`
   - `sollen|die` → `sollen|SHALL`
   - `gestorben|die` → `gestorben|DIED`
   - `Toter|die` → `Toter|DEAD`
   - `lasset|die` → `lasset|LET`
   - `ließest|die` → `ließest|LET`
   - `Aas|die` → `Aas|CARCASS`
   - `müssen|die` → `müssen|MUST`

4. **Separable verb particle fixes:**
   - `hin|go` → `hin|—` (24 occurrences) - blank gloss for directional particle

5. **Duplicate gloss fixes:**
   - `habe|see gesehen|see` → `habe|HAVE gesehen|SEEN`
   - Fixed typo: `gestorben|DIEDd` → `gestorben|DIED`

**Statistics:**
- Total corrections: ~150+ individual word glosses
- All `|old` patterns for family words fixed
- All `|die` death-related patterns fixed
- All death idiom patterns ("des Todes sterben") properly glossed
- Separable verb particles now use blank gloss (—)

**Status:**
- Exodus (exo.tsv) is now COMPLETE
- All known issue patterns have been corrected
- Ready to proceed to next book (Leviticus) in future session

**Books Completed: 2/66**
- [x] Genesis (gen)
- [x] Exodus (exo)
- [ ] Leviticus (lev) - next

---
### SESSION 5 - LEVITICUS COMPREHENSIVE CLEANUP
Date: 2024-12-20

Completed comprehensive cleanup of all remaining issues in Leviticus (lev.tsv).

**Batch Corrections Applied:**

1. **|old pattern fixes (German words incorrectly glossed as "old"):**
   - `Söhne|old` → `Söhne|sons` (all occurrences)
   - `Söhnen|old` → `Söhnen|sons` (dative plural)
   - `Kindern|old` → `Kindern|children` (dative plural)
   - `Kinder|old` → `Kinder|children`
   - `Sohn|old` → `Sohn|son`
   - `Sohnes|old` → `Sohnes|son's` (genitive)
   - `Sohne|old` → `Sohne|son` (dative)
   - `junge|old` → `junge|young`
   - `jungen|old` → `jungen|young`
   - `Jungen|old` → `Jungen|young`
   - `jähriges|old` → `jähriges|YEAR-OLD`
   - `jährig|old` → `jährig|YEAR-OLD`
   - `jährige|old` → `jährige|YEAR-OLD`
   - `ihre|old` → `ihre|their`
   - `ein|old` → `ein|a`
   - `alt|old` → `alt|OLD`
   - `alten|old` → `alten|OLD`
   - `Haus|old` → `Haus|house`
   - `Leuten|old` → `Leuten|people`
   - `Fremdlings|old` → `Fremdlings|stranger's`
   - `Kind|old` → `Kind|child`
   - `und|old` → `und|and`

2. **Death idiom pattern fixes:**
   - `Todes|die` → `Todes|DEATH` (multiple occurrences)
   - Death idiom "des Todes sterben" now correctly glossed as "of-the DEATH DIE"

3. **Death-related |die pattern fixes:**
   - `sterben|die` → `sterben|DIE`
   - `sterbet|die` → `sterbet|DIE`
   - `sterbe|die` → `sterbe|DIE`
   - `stirbt|die` → `stirbt|DIES`
   - `starben|die` → `starben|DIED`
   - `gestorben|die` → `gestorben|DIED`
   - `tötet|die` → `tötet|KILL`
   - `Toten|die` → `Toten|DEAD`

**Statistics:**
- Total corrections: ~100+ individual word glosses
- All `|old` patterns for family/age words fixed
- All `|die` death-related patterns fixed
- All death idiom patterns ("des Todes sterben") properly glossed

**Status:**
- Leviticus (lev.tsv) is now COMPLETE
- All known issue patterns have been corrected
- Ready to proceed to next book (Numbers) in future session

**Books Completed: 3/66**
- [x] Genesis (gen)
- [x] Exodus (exo)
- [x] Leviticus (lev)
- [ ] Numbers (num) - next

---
### SESSION 5 (continued) - NUMBERS COMPREHENSIVE CLEANUP
Date: 2024-12-20

Completed comprehensive cleanup of all remaining issues in Numbers (num.tsv).

**Batch Corrections Applied:**

1. **|old pattern fixes (German words incorrectly glossed as "old"):**
   - `Kinder|old` → `Kinder|children` (many occurrences)
   - `Kindern|old` → `Kindern|children` (dative plural)
   - `Sohn|old` → `Sohn|son`
   - `Söhne|old` → `Söhne|sons`
   - `Söhnen|old` → `Söhnen|sons` (dative plural)
   - `Sohnes|old` → `Sohnes|son's` (genitive)
   - `Sohne|old` → `Sohne|son` (dative)
   - `junge|old` → `junge|young`
   - `jungen|old` → `jungen|young`
   - `jähriges|old` → `jähriges|YEAR-OLD`
   - `jährige|old` → `jährige|YEAR-OLD`
   - `jahrige|old` → `jahrige|YEAR-OLD`
   - `ihr|old` → `ihr|their`
   - `sie|old` → `sie|they`
   - `ihnen|old` → `ihnen|them`
   - `und|old` → `und|and`
   - `s|old` → `s|IT`
   - `alt|old` → `alt|OLD`
   - `Simeon|old` → `Simeon|Simeon`
   - `Stämmen|old` → `Stämmen|tribes`

2. **Death idiom pattern fixes:**
   - `Todes|die` → `Todes|DEATH`
   - `Tode|die` → `Tode|DEATH`

3. **Death-related |die pattern fixes:**
   - `sterben|die` → `sterben|DIE`
   - `starben|die` → `starben|DIED`
   - `starb|die` → `starb|DIED`
   - `stirbt|die` → `stirbt|DIES`
   - `sterbet|die` → `sterbet|DIE`
   - `stürben|die` → `stürben|DIE`
   - `gestorben|die` → `gestorben|DIED`
   - `Totes|die` → `Totes|DEAD`
   - `Toten|die` → `Toten|DEAD`
   - `toten|die` → `toten|DEAD`
   - `töten|die` → `töten|KILL`
   - `tötest|die` → `tötest|SLAY`
   - `getötet|die` → `getötet|SLAIN`
   - `umkamen|die` → `umkamen|PERISHED`
   - `verderben|die` → `verderben|PERISH`
   - `untergehen|die` → `untergehen|PERISH`

4. **Miscellaneous |die pattern fixes:**
   - `wären|die` → `wären|WOULD`
   - `waren|die` → `waren|WERE`
   - `jemand|die` → `jemand|SOMEONE`
   - `müsse|die` → `müsse|MUST`
   - `werden|die` → `werden|BECOME`
   - `bringen|die` → `bringen|BRING`
   - `mag|die` → `mag|MAY`

**Statistics:**
- Total corrections: ~150+ individual word glosses
- All `|old` patterns for family/age words fixed
- All `|die` death-related patterns fixed
- All death idiom patterns ("des Todes sterben") properly glossed

**Status:**
- Numbers (num.tsv) is now COMPLETE
- All known issue patterns have been corrected
- Ready to proceed to next book (Deuteronomy) in future session

**Books Completed: 4/66**
- [x] Genesis (gen)
- [x] Exodus (exo)
- [x] Leviticus (lev)
- [x] Numbers (num)
- [x] Deuteronomy (deu)
- [ ] Joshua (jos) - next

---
### SESSION 6 - DEUTERONOMY COMPREHENSIVE CLEANUP
Date: 2024-12-20

Completed comprehensive cleanup of all remaining issues in Deuteronomy (deu.tsv).

**Batch Corrections Applied:**

1. **|old pattern fixes (German words incorrectly glossed as "old"):**
   - `Kindern|old` → `Kindern|children` (many occurrences)
   - `Kinder|old` → `Kinder|children`
   - `Söhne|old` → `Söhne|sons`
   - `Söhnen|old` → `Söhnen|sons` (dative plural)
   - `Sohn|old` → `Sohn|son`
   - `Sohnes|old` → `Sohnes|son's` (genitive)
   - `Sohne|old` → `Sohne|son` (dative)
   - `Kindeskinder|old` → `Kindeskinder|grandchildren`
   - `Kindeskindern|old` → `Kindeskindern|grandchildren`
   - `Jahre|year alt|old` → `Jahre|year alt|OLD`
   - `alten|old-man` → `alten|FORMER` (context-appropriate)
   - Various other `|old` context fixes

2. **Bracketed unknown word fixes:**
   - `versöhnt|[versöhnt]` → `versöhnt|ATONED`
   - `würdig|[würdig]` → `würdig|WORTHY`
   - `Dürftigen|[Dürftigen]` → `Dürftigen|NEEDY`
   - `zerstoßen|[zerstoßen]` → `zerstoßen|CRUSHED`
   - `weggeführt|[weggeführt]` → `weggeführt|LED-AWAY`
   - `verläßt|[verläßt]` → `verläßt|TRUST`
   - `bedrängen|[bedrängen]` → `bedrängen|DISTRESS`
   - `wärest|[wärest]` → `wärest|WERE`
   - `erwählest|[erwählest]` → `erwählest|CHOOSE`
   - `fällt|[fällt]` → `fällt|FALL`
   - `ausführt|[ausführt]` → `ausführt|STIRS-UP`
   - `Flügeln|[Flügeln]` → `Flügeln|WINGS`
   - `nährte|[nährte]` → `nährte|FED`
   - `übergeben|[übergeben]` → `übergeben|DELIVERED`
   - `Schätzen|[Schätzen]` → `Schätzen|TREASURES`
   - `verlängern|[verlängern]` → `verlängern|PROLONG`

3. **Death idiom and |die pattern fixes:**
   - `Todes|die` → `Todes|DEATH`
   - `sterben|die` → `sterben|DIE`
   - `sterbe|die` → `sterbe|DIE`
   - `stirbt|die` → `stirbt|DIES`
   - `stirbst|die` → `stirbst|DIE`
   - `starb|die` → `starb|DIED`
   - `stürbe|die` → `stürbe|DIED`
   - `gestorben|die` → `gestorben|DIED`
   - `Toten|die` → `Toten|DEAD`
   - `Tode|die` → `Tode|DEATH`
   - `tot|die` → `tot|DEAD`
   - `tötete|die` → `tötete|KILLED`
   - `töten|die` → `töten|KILL`
   - `getötet|die` → `getötet|KILLED`
   - `Verstorbenen|die` → `Verstorbenen|DECEASED`
   - `verstorbenen|die` → `verstorbenen|DECEASED`

4. **Separable verb particle fixes:**
   - `hinauf|offer` → `hinauf|UP`
   - `heraus|bring` → `heraus|OUT`
   - `hinein|in` → `hinein|INTO`
   - `hinab|descend` → `hinab|DOWN`
   - `hinaus|without` → `hinaus|OUT`
   - `herab|down` → `herab|DOWN`
   - `herab|look` → `herab|DOWN`
   - `hinzu|offer` → `hinzu|NEAR`

5. **Miscellaneous |die pattern fixes:**
   - Various context-specific fixes for pronouns and verbs incorrectly glossed as "die"

**Statistics:**
- Total corrections: ~150+ individual word glosses
- All `|old` patterns for family/age words fixed
- All bracketed unknown words fixed with appropriate glosses
- All `|die` death-related patterns fixed
- Separable verb particles now correctly glossed

**Status:**
- Deuteronomy (deu.tsv) is now COMPLETE
- All known issue patterns have been corrected
- Ready to proceed to next book (Joshua) in future session

**Books Completed: 5/66**
- [x] Genesis (gen)
- [x] Exodus (exo)
- [x] Leviticus (lev)
- [x] Numbers (num)
- [x] Deuteronomy (deu)
- [ ] Joshua (jos) - next

---
